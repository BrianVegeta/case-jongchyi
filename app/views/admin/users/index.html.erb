<h1>管理員 <small>列表</small></h1>

<table class="table table-striped">
  <tr>
    <th>User ID</th>
    <th>Username</th>
    <th>登入次數</th>
    <th>建立時間</th>
    <th>最後登入</th>
    <th>登入 IP</th>
    <th></th>
  </tr>
  
  <% @users.each do |user| %>
  
  <tr>
    <td><%= user.id %></td>
    <td><%= link_to user.username.capitalize, admin_user_path(user) %></td>
    <td><%= user.sign_in_count %></td>
    <td><%= time_ago_in_words(user.created_at) %></td>
    <% unless user.last_sign_in_at.nil? %>
    <td><%= time_ago_in_words(user.last_sign_in_at)%> 前</td>
    <% else %>
    <td>never</td>
    <% end %>
    <td><%= user.last_sign_in_ip %></td>
    <td>
      <% if user.admin? && user.super? %>
        <button type="button" class="btn btn-default btn-sm" disabled="disabled">刪除</button>
      <% else %>
        <%= link_to '刪除', admin_user_path(user.id), method: :delete, data: { confirm: '確定刪除此管理員?' }, class: 'btn btn-danger btn-sm' %>
      <% end -%>  
    </td>
  </tr>
  
  <% end %>
  
</table>

